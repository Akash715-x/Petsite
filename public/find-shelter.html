<html>

<head>
    <title>Find Shelter</title>


    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.png">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/themify-icons.css">
    <link rel="stylesheet" href="css/nice-select.css">
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/gijgo.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/slicknav.css">
    <link rel="stylesheet" href="css/style.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>



    <script>

        var angmodule = angular.module("myModule", []);
        angmodule.controller("myController", function ($scope, $http) {

            $scope.citiesArry;
            $scope.fetchCities = function () {
                $http.get("/fetch-all-cities").then(fxOk, fxNotOk);
                function fxOk(response) {
                    $scope.citiesArry = response.data;
                }
                function fxNotOk(response) {
                    alert(response.data);
                }
            }
            //--------------------------------------------------

            $scope.doShowSelCity = function () {
            }

            $scope.caretakersArry;
            $scope.showCaretakers = function () {
                $http.get("/fetch-all-shelter?city=" + $scope.selCity.city).then(fxOk, fxNotOk);
                function fxOk(response) {
                    $scope.caretakersArry = response.data;
                }
                function fxNotOk(response) {
                    alert(response.data);
                }
            }
            //--------------------------------------------------

            $scope.moreInfoArry;
            $scope.getMore = function (emailid) {
                $http.get("/moreInfo?emailid=" + emailid).then(fxOk, fxNotOk);
                function fxOk(response) {
                    $scope.moreInfoArry = response.data;
                }
                function fxNotOk(response) {
                    alert(response.data);

                }
            }
        });
    </script>
</head>

<body ng-app="myModule" ng-controller="myController" ng-init="fetchCities();">

    <header>
        <div class="header-area ">
            <div class="header-top_area">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6 col-md-8">
                            <div class="short_contact_list">
                                <ul>
                                    <li><a href="#">+91 78883 44282</a></li>

                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-4 ">
                            <div class="social_media_links">
                                <a href="#">
                                    <i class="fa fa-facebook"></i>
                                </a>
                                <a href="#">
                                    <i class="fa fa-pinterest-p"></i>
                                </a>
                                <a href="#">
                                    <i class="fa fa-google-plus"></i>
                                </a>
                                <a href="#">
                                    <i class="fa fa-linkedin"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="sticky-header" class="main-header-area">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-xl-3 col-lg-3">
                            <div class="logo">
                                <a href="index.html">
                                    <img src="img/logo.png" alt="">
                                </a>
                            </div>
                        </div>
                        <div class="col-xl-9 col-lg-9">
                            <div class="main-menu  d-none d-lg-block">
                                <nav>
                                    <ul id="navigation">
                                        <li><a href="pet.html">home</a></li>
                                        <li><a href="dash-owner.html">Dashboard</a></li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="mobile_menu d-block d-lg-none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="bradcam_area breadcam_bg">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="bradcam_text text-center">
                        <h3>Find Shelter</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="container mt-5">
        <div class="row">
            <div class="form-floating mb-4 col-sm-4" style="margin-top: 100px;">
                <select id="cityName" class="form-select" ng-options="obj.city for obj in citiesArry"
                    ng-init="selCity=none" ng-change="doShowSelCity();" ng-model="selCity">
                    <option value="">Select City</option>
                </select>
            </div>

            <!-- <div class="form-floating mb-4 col-sm-4" style="margin-top: 100px;">
                <select ng-model="selPet" ng-init="selPet=none" class="form-select">
                    <option value="">Select Pet</option>
                    <option value="Cat">Cat</option>
                    <option value="Dog">Dog</option>
                    <option value="Rabbit">Rabbit</option>
                    <option value="Fish">Fish</option>
                    <option value="Parrot">Parrot</option>
                    <option value="Monkey">Monkey</option>
                    <option value="Horse">Horse</option>

                </select> 
            </div>-->

            <div class="col-sm-2" style="margin-top: 100px;">
                <input type="button" class="boxed-btn4" value="Search" id="btnSearch" ng-click="showCaretakers();">
            </div>
        </div>

        <div class="row mt-4">
            <div class="card mt-2 mb-2 ms-2 me-2 shadow" style="width:18rem;" ng-repeat="row in caretakersArry">
                <div class="card-body">
                    <img src="uploads/{{row.shelpic}}" alt="" width="200">
                    <h3 class="card-title">{{row.name}}</h3>
                    <p class="card-text">{{row.address}}</p>
                    <p class="card-text">{{row.website}}</p>
                    <!-- <p class="card-text">{{row.pets}}</p> -->
                    <button class="boxed-btn4" type="button" data-bs-toggle="modal" data-bs-target="#infoModal1"
                        ng-click="getMore(row.emailid);">More Info</button>

                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="infoModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" ng-repeat="row in moreInfoArry">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">More Info</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <table>
                        <tr>
                            <th>Email: {{row.emailid}}</th>
                        </tr>
                        <tr>
                            <th>Contact: {{row.contact}}</th>
                        </tr>
                        <tr>
                            <th>Website: {{row.website}}</th>
                        </tr>
                        <tr>
                            <th>Address: {{row.address}}</th>
                        </tr>
                        <tr>
                            <th>City: {{row.city}}</th>
                        </tr>
                        <!-- <tr>
                        <th>Pets: {{row.pets}}</th>
                    </tr>
                    <tr>
                        <th>Other info: {{row.info}}</th>
                    </tr> -->


                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Understood</button>
                </div>
            </div>
        </div>
    </div>


    <div class="extraspace" style="margin-top: 100px;"></div>

    <footer class="footer">
        <div class="footer_top">
            <div class="container">
                <div class="row">
                    <div class="col-xl-3 col-md-6 col-lg-3">
                        <div class="footer_widget">
                            <h3 class="footer_title">
                                Contact Us
                            </h3>
                            <ul class="address_line">
                                <li>+91 78883 44282</li>
                                <li><a href="#">akashdhaliwal715@gmail.Com</a></li>
                                <li>Phulewala,Bathinda</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-3  col-md-6 col-lg-3">
                        <div class="footer_widget">
                            <h3 class="footer_title">
                                Our Services
                            </h3>
                            <ul class="links">
                                <li><a href="#">Pet Insurance</a></li>
                                <li><a href="#">Pet surgeries </a></li>
                                <li><a href="#">Pet Adoption</a></li>
                                <li><a href="#">Dog Insurance</a></li>
                                <li><a href="#">Dog Insurance</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xl-3  col-md-6 col-lg-3">
                        <div class="footer_widget">
                            <h3 class="footer_title">
                                Quick Link
                            </h3>
                            <ul class="links">
                                <li><a href="#">About Us</a></li>
                                <li><a href="#">Privacy Policy</a></li>
                                <li><a href="#">Terms of Service</a></li>
                                <li><a href="#">Login info</a></li>
                                <li><a href="#">Knowledge Base</a></li>
                            </ul>
                        </div>
                    </div>
                    
                            <div class="col-xl-3 col-md-6 col-lg-3 ">
                                <div class="footer_widget">
                                    <div class="footer_logo">
                                        <a href="#">
                                            <img src="img/logo.png" alt="">
                                        </a>
        
                                        <a class="img mr-4 rounded">
                                            <iframe
                                              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3447.8807337916064!2d74.95013941511905!3d30.21195128182175!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x391732a4f07278a9%3A0x4a0d6293513f98ce!2sBanglore%20Computer%20Education!5e0!3m2!1sen!2sin!4v1673849575769!5m2!1sen!2sin"
                                              width="200" height="130" style="border:0;margin-top: 40px;" allowfullscreen="" loading="lazy"
                                              referrerpolicy="no-referrer-when-downgrade"></iframe>
                                          </a>
                                    </div>
        
                                </div>
        
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="copy-right_text">
            <div class="container">
                <div class="bordered_1px"></div>
                <div class="row">
                    <div class="col-xl-12">
                        <p class="copy_right text-center">
                        <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                            Copyright &copy;
                            <script>document.write(new Date().getFullYear());</script> All rights reserved | This
                            template is made with <i class="ti-heart" aria-hidden="true"></i> by <a
                                href="https://colorlib.com" target="_blank">Akash</a>
                            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        </p>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>



    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script> -->

</body>

</html>